# API-методы для для сохранения событий и получения статистики

Приложение осуществляет набор API-методов для сохранения событий и получения статистики (PHP).

## Начало работы

В приложении начало работы происходит со страницы `index.html`. Далее по кнопке навигации вы перенаправляетесь либо на страницу ввода статистических данных (`saveevent.html`), либо на страницу получения информации из базы данных (`getevent.html`).

### Страница ввода статистических данных (`saveevent.html`)

На этой странице реализуется первый метод тестового задания. Он принимает в качестве входных параметров название события и статус пользователя (авторизован или нет, для упрощения вводится вручную).

Затем сервер добавляет вспомогательную информацию (ID, дату и время события и IP пользователя). IP пользователя генерируется случайным образом для последующей проверки функционала приложения.

Событие сохраняется в базе данных MySQL. Для тестовой проверки использовалась бесплатная база данных `db4free.net` (предоставляется для тестирования). Логин и пароль прописаны в скрипте. (Так делать не нужно. Обычно используют файлы конфигурации или переменные окружения).

### Страница получения информации из базы данных (`getevent.html`)

На данной странице реализуется второй метод. Он позволяет фильтровать (по дате и названию события, обязательно) и получать агрегированную информацию (одна из трех агрегаций за раз) в формате JSON:

- Счетчики конкретных событий
- Счетчики событий по пользователю (по IP-адресу)
- Счетчик событий по статусу пользователя.

Фильтрация в общей таблице базы данных происходит нажатием на заголовки столбцов. Информация счетчиков получается путем ввода необходимых данных для сортировки и нажатием кнопки "Get statistic".
